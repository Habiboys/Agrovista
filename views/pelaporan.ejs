<!DOCTYPE html>
<html>
    <head>
        <title><%= title %></title>
        <link href="/css/tailwind.css" rel="stylesheet" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
        />
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://unpkg.com/lucide@latest"></script>
    </head>
    <body class="font-sans bg-gray-50">
        <%- include('partials/navbar') %>

        <main class="container mx-auto mt-24 px-6">
            <% if (!user) { %>
            <!-- Login Notification Banner -->
            <div
                class="mb-8 bg-gradient-to-r from-green-500 to-blue-600 rounded-lg shadow-lg p-6 text-white"
            >
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <span class="text-3xl">🌍</span>
                        <div>
                            <h2 class="text-xl font-bold">
                                Bantu Jaga Keindahan Desa Wisata!
                            </h2>
                            <p class="mt-1">
                                Laporkan pencemaran, vandalism, atau tindakan
                                merusak lingkungan lainnya di Desa Wisata
                                Leuwimalang. Jadilah bagian dari perubahan
                                positif! 💚
                            </p>
                        </div>
                    </div>
                    <a
                        href="/auth/login"
                        class="bg-white text-green-600 px-6 py-2 rounded-full font-semibold hover:bg-gray-100 transition-colors duration-200"
                    >
                        Login Sekarang ➜
                    </a>
                </div>
            </div>
            <% } %>

            <!-- Points Information Cards -->
            <div class="grid md:grid-cols-3 gap-6 mb-8">
                <div
                    class="bg-white p-6 rounded-lg shadow-md border border-gray-100"
                >
                    <div class="flex items-center justify-center text-4xl mb-3">
                        🌳
                    </div>
                    <h3
                        class="text-lg font-bold text-center text-gray-800 mb-2"
                    >
                        Lindungi Alam Kita
                    </h3>
                    <p class="text-center text-gray-600">
                        Laporkan setiap tindakan yang mengancam keindahan alam
                        Desa Wisata Leuwimalang.
                    </p>
                </div>
                <div
                    class="bg-white p-6 rounded-lg shadow-md border border-gray-100"
                >
                    <div class="flex items-center justify-center text-4xl mb-3">
                        🛡️
                    </div>
                    <h3
                        class="text-lg font-bold text-center text-gray-800 mb-2"
                    >
                        Bersama, Kita Bisa
                    </h3>
                    <p class="text-center text-gray-600">
                        Setiap laporan Anda membantu menjaga Desa Wisata tetap
                        indah dan bersih untuk generasi mendatang.
                    </p>
                </div>
                <div
                    class="bg-white p-6 rounded-lg shadow-md border border-gray-100"
                >
                    <div class="flex items-center justify-center text-4xl mb-3">
                        🌟
                    </div>
                    <h3
                        class="text-lg font-bold text-center text-gray-800 mb-2"
                    >
                        Jadilah Pahlawan Lingkungan
                    </h3>
                    <p class="text-center text-gray-600">
                        Setiap kontribusi Anda akan memberi dampak besar bagi
                        Desa Wisata kita tercinta.
                    </p>
                </div>
            </div>

            <h1 class="text-4xl font-bold text-center mb-8">
                Laporkan Masalah! 🚨
            </h1>

            <form
                method="post"
                action="/kirim-laporan"
                enctype="multipart/form-data"
                class="max-w-2xl mx-auto bg-white shadow-lg rounded-xl px-8 pt-6 pb-8 mb-6"
            >
                <% if(!user) { %>
                <!-- Nama field -->
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="nama"
                    >
                        Nama (Opsional) 👤
                    </label>
                    <input
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="nama"
                        name="nama"
                        type="text"
                        placeholder="Masukkan nama Anda"
                    />
                </div>

                <!-- Jenis Kelamin field -->
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="jenis-kelamin"
                    >
                        Jenis Kelamin ♀️♂️
                    </label>
                    <select
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="jenis-kelamin"
                        name="jenis_kelamin"
                        required
                    >
                        <option value="" disabled selected hidden>
                            Pilih Jenis Kelamin
                        </option>
                        <option value="P">Pria</option>
                        <option value="L">Wanita</option>
                    </select>
                </div>

                <!-- Umur field -->
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="umur"
                    >
                        Umur 📅
                    </label>
                    <input
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="umur"
                        type="text"
                        inputmode="numeric"
                        name="umur"
                        placeholder="Masukkan umur Anda"
                        required
                    />
                </div>

                <!-- Asal field -->
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="asal"
                    >
                        Asal 🌍
                    </label>
                    <input
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="asal"
                        type="text"
                        name="asal"
                        placeholder="Masukkan kota asal Anda"
                        required
                    />
                </div>

                <!-- Pekerjaan field -->
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="pekerjaan"
                    >
                        Pekerjaan 💼
                    </label>
                    <input
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="pekerjaan"
                        type="text"
                        name="pekerjaan"
                        placeholder="Masukkan pekerjaan Anda"
                        required
                    />
                </div>

                <% } else { %>
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="nama"
                    >
                        Nama 👤
                    </label>
                    <input
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="nama"
                        name="nama"
                        type="text"
                        placeholder="<%= user.DataDiri.nama %>"
                        value="<%= user.DataDiri.nama %>"
                        disabled
                    />
                </div>

                <!-- Jenis Kelamin field -->
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="jenis_kelamin"
                    >
                        Jenis Kelamin ♀️♂️
                    </label>
                    <input
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="jenis_kelamin"
                        name="jenis_kelamin"
                        type="text"
                        placeholder="<%= user.DataDiri.jenis_kelamin === 'L' ? 'Laki-Laki' : 'Perempuan' %>"
                        value="<%= user.DataDiri.jenis_kelamin === 'L' ? 'Laki-Laki' : 'Perempuan' %>"
                        disabled
                    />
                </div>

                <!-- Umur field -->
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="umur"
                    >
                        Umur 📅
                    </label>
                    <input
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="umur"
                        type="text"
                        inputmode="numeric"
                        name="umur"
                        placeholder="<%= user.DataDiri.umur %>"
                        value="<%= user.DataDiri.umur %>"
                        disabled
                    />
                </div>

                <!-- Asal field -->
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="asal"
                    >
                        Asal 🌍
                    </label>
                    <input
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="asal"
                        type="text"
                        name="asal"
                        placeholder="<%= user.DataDiri.asal %>"
                        value="<%= user.DataDiri.asal %>"
                        disabled
                    />
                </div>

                <!-- Pekerjaan field -->
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="pekerjaan"
                    >
                        Pekerjaan 💼
                    </label>
                    <input
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="pekerjaan"
                        type="text"
                        name="pekerjaan"
                        placeholder="<%= user.DataDiri.pekerjaan %>"
                        value="<%= user.DataDiri.pekerjaan %>"
                        disabled
                    />
                </div>
                <% } %>

                <!-- Judul field -->
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="judul"
                    >
                        Judul Laporan 📝
                    </label>
                    <input
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="judul"
                        name="judul"
                        type="text"
                        placeholder="Masukkan judul laporan"
                        required
                    />
                </div>

                <!-- Deskripsi field -->
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="deskripsi"
                    >
                        Deskripsi 🖋️
                    </label>
                    <textarea
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="deskripsi"
                        name="deskripsi"
                        rows="5"
                        placeholder="Masukkan deskripsi laporan"
                    ></textarea>
                </div>

                <!-- Gambar field -->
                <div class="mb-6">
                    <label
                        class="block text-gray-700 text-sm font-bold mb-2"
                        for="gambar"
                    >
                        Unggah Gambar 🖼️ (Opsional)
                    </label>
                    <input
                        class="shadow-sm appearance-none border border-gray-200 rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200"
                        id="gambar"
                        name="gambar"
                        type="file"
                        accept="image/*"
                    />
                </div>

                <!-- Submit button -->
                <div class="flex items-center justify-center">
                    <button
                        class="bg-gradient-to-r from-red-500 to-red-600 text-white font-bold py-3 px-8 rounded-full focus:outline-none focus:ring-2 focus:ring-red-300 hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200"
                        type="submit"
                    >
                        Kirim Laporan
                    </button>
                </div>
            </form>
        </main>

        <%- include('partials/footer') %>
    </body>
</html>
